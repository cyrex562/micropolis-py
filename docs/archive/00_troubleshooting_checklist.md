Check resource loading first. A blank/solid-color map usually means the tile graphics never loaded. Verify ResourceDir and the actual tile PNGs/XPMs that graphics_setup expects. Temporarily instrument graphics_setup.get_resource_path or init_view_graphics to log which paths it tries and whether pygame.image.load succeeds. If you just moved everything into assets/, make sure every loader (graphics, sounds, Tcl scripts) points there. Running python3 scripts/run_pytest_chunks.py -k resources (once the lingering dataclass issue is fixed) helps catch path mistakes.

Confirm view surfaces get drawn. Your screen shows the editor rectangle and map placeholder, which means blit_views_to_screen runs. Inside map_view.MemDrawMap and editor_view.MemDrawBeegMapRect, add debug prints or breakpoints to see whether they’re painting actual tiles or just filling the surface black. If they never run (e.g., because sim_update_maps/sim_update_editors don’t mark the views invalid), trace the simulation loop and ensure types.sim.map/types.sim.editor exist and have .surface objects (the earlier dataclass errors suggest initialization might still be shaky).

Verify the initialization flow. Step through engine.pygame_main_loop: sim_init() should allocate map arrays, load default city data, set funds, and run one sim_update. If types.Map is still all zeros, every tile draws as “dirt” green when you click because the editor tool just changes raw map values. To see why the map never populates, run uv run python -m micropolis.engine --debug (after adding logging/loglevel flags) or temporary prints inside initialization.InitWillStuff() to confirm DoNewGame() + ClearMap() actually seed the map and load the Micropolis.cty default.

Use SDL’s dummy video driver for faster iteration. When you’re just testing startup, run SDL_VIDEODRIVER=dummy uv run micropolis with extra logging so you can see stack traces and resource-resolution messages without pops opening.

Unit-test the missing subsystems. The sprite/generation code still has commented placeholders (e.g., GenerateBus was only recently wired up). Port the remaining functions incrementally and add regression tests under tests/ so each missing piece is obvious. For example, add a test that graphics_setup.init_graphics() finds assets/tiles.png and populates view.smalltiles—if it fails, you know why the screen stays blank.

Fix outstanding core errors first. Right now importing the package hits dataclasses errors (mutable defaults in types.SimView). Until those are resolved, many runtime init paths will behave unpredictably. Clean up types.py (either add from __future__ import annotations and field(default_factory=list) where needed, or revert to non-dataclass definitions), rerun the full chunked pytest suite, and only then chase rendering bugs; otherwise every attempt to launch the game is on shaky ground.

Instrument event handling. Add temporary print statements inside the pygame event loop to confirm keyboard/mouse events get turned into tool actions, and that sim_loop(True) is actually running every frame (printing the current funds or year each tick proves the simulation isn’t stuck).

